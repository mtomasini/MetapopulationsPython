

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Metapypulation: an overview &mdash; MetaPypulation 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=9edc463e" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=2709fde1"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="metapypulation" href="modules.html" />
    <link rel="prev" title="Welcome to MetaPypulation’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            MetaPypulation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Metapypulation: an overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#structure">Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-spread-of-cultural-traits">The spread of cultural traits</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#neutral-model">Neutral model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#axelrod-model">Axelrod model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#diversity-measures">Diversity measures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#count-of-sets">Count of sets</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shannon-diversity">Shannon diversity</a></li>
<li class="toctree-l4"><a class="reference internal" href="#simpson-index">Simpson index</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gini-simpson-index">Gini-Simpson index</a></li>
<li class="toctree-l4"><a class="reference internal" href="#beta-diversity"><span class="math notranslate nohighlight">\(\beta\)</span>-diversity</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">metapypulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="author.html">About the author</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MetaPypulation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Metapypulation: an overview</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/overview.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="metapypulation-an-overview">
<h1>Metapypulation: an overview<a class="headerlink" href="#metapypulation-an-overview" title="Link to this heading"></a></h1>
<p>Metapypulation is a package to simulate the spread of culture in a metapopulation. It supplies a set of tools partly inspired by other frameworks such as <a class="reference external" href="https://mesa.readthedocs.io/en/stable/overview.html">Mesa</a> which are general-purpose methods to perform agent-based modelling with Python. The main reason to create my own package for this purpose is to change the focus of the tool - population-based simulations instead of individual-based.</p>
<section id="structure">
<h2>Structure<a class="headerlink" href="#structure" title="Link to this heading"></a></h2>
<p>Metapypulation has three main classes:</p>
<ul class="simple">
<li><p>an <a class="reference external" href="https://mtomasini.github.io/MetapopulationsPython/metapypulation.html#module-metapypulation.individual"><code class="docutils literal notranslate"><span class="pre">Individual</span></code></a> class, which represents each individual in the metapopulation.</p></li>
<li><p>a <a class="reference external" href="https://mtomasini.github.io/MetapopulationsPython/metapypulation.html#module-metapypulation.subpopulation"><code class="docutils literal notranslate"><span class="pre">Subpopulation</span></code></a> class, representing the different discrete subpopulations that compose the metapopulation;</p></li>
<li><p>finally, a <a class="reference external" href="https://mtomasini.github.io/MetapopulationsPython/metapypulation.html#module-metapypulation.metapopulation"><code class="docutils literal notranslate"><span class="pre">Metapopulation</span></code></a> class, which puts <code class="docutils literal notranslate"><span class="pre">Individual</span></code> and <code class="docutils literal notranslate"><span class="pre">Subpopulation</span></code> together and have individuals interacting in this world.</p></li>
</ul>
<p>In addition, I provide a <a class="reference external" href="https://mtomasini.github.io/MetapopulationsPython/metapypulation.html#module-metapypulation.simulation"><code class="docutils literal notranslate"><span class="pre">Simulation</span></code></a> class, which allows to run a simulation with several replicates, which outputs different measurements (<a class="reference internal" href="#diversity-measures"><span class="xref myst">see below</span></a>). The class also provides some quick tools to plot the results of the simulation.</p>
</section>
<section id="the-spread-of-cultural-traits">
<h2>The spread of cultural traits<a class="headerlink" href="#the-spread-of-cultural-traits" title="Link to this heading"></a></h2>
<p>Currently, each individual’s culture is represented by a set of <span class="math notranslate nohighlight">\(N\)</span> features. Each feature in turn can assume one of <span class="math notranslate nohighlight">\(\nu\)</span> traits. These features represent different (assumed) independent facets of culture: one could be language, burial tradition, boat building features, <em>etc</em>. So each individual is currently represented by a vector of integers.</p>
<section id="neutral-model">
<h3>Neutral model<a class="headerlink" href="#neutral-model" title="Link to this heading"></a></h3>
<p>The Neutral model follows loosely the set up selected by other authors working on the spread of cultural traits (<em>e.g.</em> <em>Patterns in space and time: simulating cultural transmission in archaeology</em>, Marko Porčić). We use the simplest model where one focal individual at random in each subpopulation and each time-step copies one trait at random from another individual in the same subpopulation. The model allows for copying errors with rate <span class="math notranslate nohighlight">\(\mu\)</span>: if a copying error occurs, instead of copying a trait from another individual, the focal individual changes the trait at the feature in focus with a random trait between the available ones.</p>
</section>
<section id="axelrod-model">
<h3>Axelrod model<a class="headerlink" href="#axelrod-model" title="Link to this heading"></a></h3>
<p>While we plan on adding several different ways for individuals to interact and change their traits, as of July 2024 the only such way to interact is shaped upon the <strong>Axelrod model of culture dissemination</strong> (<em>The Dissemination of Culture: A Model with Local Convergence and Global Polarization</em>, Robert Axelrod (1997), The Journal of Conflict Resolution, vol. 41, no. 2). In this model, at each generation an individual is chosen at random to copy a trait from a neighboring source on a lattice; the copy occurs with a probability proportional to the total similarity of the two random individuals. This mimicks homophily - the principle by which two individuals that resemble each other have a higher chance of having an exchange than two individuals that are completely different. In the metapopulation model that I developed, for each subpopulation we pick two random individuals that will act as target and source of the copy. Here too, copying errors occur with rate <span class="math notranslate nohighlight">\(\mu\)</span>.</p>
</section>
<section id="diversity-measures">
<h3>Diversity measures<a class="headerlink" href="#diversity-measures" title="Link to this heading"></a></h3>
<p>Currently, we have implemented a few diversity measures at the level of both the subpopulation and the whole metapopulation (to avoid repeating “subpopulation / metapopulation”, we refer to either as the “reference population” for the measure.</p>
<section id="count-of-sets">
<h4>Count of sets<a class="headerlink" href="#count-of-sets" title="Link to this heading"></a></h4>
<p>The first measure that we implemented is the number of unique sets of traits, <span class="math notranslate nohighlight">\(K\)</span>. In code, this is done through the function <code class="docutils literal notranslate"><span class="pre">np.unique(...,</span> <span class="pre">return_counts</span> <span class="pre">=</span> <span class="pre">True)</span></code>.</p>
</section>
<section id="shannon-diversity">
<h4>Shannon diversity<a class="headerlink" href="#shannon-diversity" title="Link to this heading"></a></h4>
<p>The second diversity index that we have implemented is the Shannon diversity index, which measures the entropy in the reference population. For <span class="math notranslate nohighlight">\(K\)</span> sets of traits,</p>
<div class="math notranslate nohighlight">
\[H^{\prime} = - \sum_{i = 1}^{K} p_i \ln p_i ,\]</div>
<p>where <span class="math notranslate nohighlight">\(p_i\)</span> is the frequency of a type of individual <span class="math notranslate nohighlight">\(i\)</span> in the subpopulation / metapopulation. Shannon is a measure of how “easy” it is, given an individual of type <code class="docutils literal notranslate"><span class="pre">j</span></code>, to predict the set of traits of another individual in the same reference population.</p>
</section>
<section id="simpson-index">
<h4>Simpson index<a class="headerlink" href="#simpson-index" title="Link to this heading"></a></h4>
<p>We also implemented the Simpson’s diversity index, defined as</p>
<div class="math notranslate nohighlight">
\[S = \sum_{i = 1}^{K} p^2_i .\]</div>
<p>The Simpson index is bound between 0 and 1, and represents the probability that two individuals in the same reference population have the same set of traits.</p>
</section>
<section id="gini-simpson-index">
<h4>Gini-Simpson index<a class="headerlink" href="#gini-simpson-index" title="Link to this heading"></a></h4>
<p>The Gini-Simpson index is simply the complement of the Simpson index, that is it measures the probability that two random indeividuals in the same reference population do not share a set of traits. This is calculated as</p>
<div class="math notranslate nohighlight">
\[G = 1 - \sum_{i = 1}^{K} p^2_i = 1 - S.\]</div>
</section>
<section id="beta-diversity">
<h4><span class="math notranslate nohighlight">\(\beta\)</span>-diversity<a class="headerlink" href="#beta-diversity" title="Link to this heading"></a></h4>
<p><span class="math notranslate nohighlight">\(\beta\)</span>-diversity is a ratio between diersity over the whole metapopulation and the diversity per subpopulation. We implemented the diversity index suggested by Whittaker (1960; see also Wilson and Shmida, 1984):</p>
<div class="math notranslate nohighlight">
\[\beta_W = \frac{K_m}{\bar{K}_s} - 1\]</div>
<p>where <span class="math notranslate nohighlight">\(K_m\)</span> is the number of sets of traits in the whole metapopulation, and <span class="math notranslate nohighlight">\(\bar{K}_s\)</span> is the average number of sets of traits in each subpopulation.</p>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to MetaPypulation’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="modules.html" class="btn btn-neutral float-right" title="metapypulation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Matteo Tomasini.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>